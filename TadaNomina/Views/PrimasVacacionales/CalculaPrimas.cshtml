@model IEnumerable<TadaNomina.Models.ViewModels.Nominas.ModelPrimasVacacionales>

@{
    ViewBag.Title = "CalculaPrimas";
    Layout = "~/Views/Shared/_layoutPrincipal.cshtml";
}

<div id="page-head">
    <div id="page-title">
        <h1 class="page-header text-overflow">Primas Vacacionales Por Aniversario</h1>
    </div>
    <div id="rutaPrincipal"></div>
</div>
<div id="page-content">
    <div class="panel">
        <div class="panel-heading">
            <h3 class="panel-title">Periodo: @ViewBag.NombrePeriodo</h3>
        </div>
        
        <div class="panel-body">

            @if (Model.Count() > 0)
            {
                <div class="row">
                    &nbsp;&nbsp;
                    <a href="Index" class="btn btn-info btn-sm _Load"><span class="fa fa-arrow-left"></span> Regresar</a>
                    <a href="@Url.Action("AplicarPrimas", new { pIdPeriodoNomina = ViewBag.pIdPeriodoNomina })" class="btn btn-mint btn-sm _Load"><span class="fa fa-download"></span> Aplicar Primas</a>
                    

                    @*<a href="#" class="btn btn-mint">Aplicar Primas</a>*@
                </div>
                <br />

                <table class="table table-striped table-hover table-responsive table-sm" cellpadding="0">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.ClaveEmpleado)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Nombre)
                        </th>
                        <th>
                            SD
                        </th>
                       <th>
                           %
                       </th>
                        <th>
                            @Html.DisplayNameFor(model => model.DiasVacaciones)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.PVReal)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.PV)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.PVEsq)
                        </th>
                        <th></th>
                    </tr>

                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.ClaveEmpleado)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Nombre)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.SDIMSS)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Factor)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.DiasVacaciones)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PVReal)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PV)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.PVEsq)
                            </td>
                            <td>
                            </td>
                        </tr>
                    }

                </table>
            }
            else
            {
                <div class="alert alert-warning" role="alert">
                    <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
                    <span class="sr-only">Error:</span>
                    No hay primas vacacionales para aplicar en este periodo.
                </div>
            }
        </div>
    </div>
</div>


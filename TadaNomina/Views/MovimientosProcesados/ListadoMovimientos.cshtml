@model List<TadaNomina.Models.ViewModels.MovimientosIMSS.mMovimientosProcesados>
@{
    ViewBag.Title = "ListadoMovimientos";
    Layout = "~/Views/Shared/_layoutPrincipal.cshtml";
}

<div id="page-head">
    <div id="page-title">
        <h1 class="page-header text-overflow">Movimientos Procesados</h1>
    </div>
    <div id="rutaPrincipal"></div>
</div>

<div id="page-content">
    <div class="panel panel-body text-left">
        <div class="panel-body">
            <div class="text-right">
                <a href="~/MovimientosProcesados/Index" class="btn btn-primary">Regresar</a>
            </div>
            <br />
            <table id="DT" class="table table-striped table-bordered oreder-column:asc" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th hidden="hidden" width="5%">IdEmpleado</th>
                        <th width="20%">Nombre del empleado</th>
                        <th width="10%">NSS</th>
                        <th width="5%">Tipo de movimiento</th>
                        <th width="15%">Registro patronal</th>
                        <th width="10%">Lote</th>
                        <th width="20%">Respuesta Lote</th>
                        <th width="10%">Fecha de Movimiento</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td hidden="hidden">@item.IdEmpleado</td>
                            <td>@item.Nombre @item.ApellidoPaterno @item.ApellidoMaterno</td>
                            <td>@item.NSS</td>
                            @switch (item.TipoMovimiento)
                            {
                                case "A":
                                    <td>ALTA</td>
                                    break;
                                case "B":
                                    <td>BAJA</td>
                                    break;
                                case "C":
                                    <td>CAMBIO</td>
                                    break;
                            }
                            <td>@item.NombrePatrona</td>
                            <td>@item.lote</td>
                            @if (item.NombreERROR != null)
                            {
                                <td>
                                    <p style="color:crimson">@item.NombreERROR</p>
                                </td>
                            }
                            else
                            {
                                if (item.RespuestaLote == null)
                                {
                                    <td>
                                        <p style="color:darkgoldenrod">SIN RESPUESTA</p>
                                    </td>
                                }
                                else
                                {
                                    <td>
                                        <p style="color:dodgerblue">OPERACI&Oacute;N REALIZADA EXITOSAMENTE</p>
                                    </td>
                                }
                            }
                            <td>@item.FechaMovimiento</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>



